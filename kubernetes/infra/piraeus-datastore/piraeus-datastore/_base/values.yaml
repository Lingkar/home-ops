monitoring:
  enabled: true
linstorCluster:
  affinity-controller:
    podTemplate:
      spec:
        containers:
          - name: linstor-affinity-controller
            resources:
              requests:
                cpu: 10m
              limits:
                memory: 20Mi
  controller:
    podTemplate:
      spec:
        containers:
          - name: linstor-controller
            resources:
              requests:
                cpu: 30m
              limits:
                memory: 586Mi
linstorSatelliteConfigurations:
  - name: talos-loader-override
    podTemplate:
      spec:
        containers:
          - name: linstor-satellite
            resources:
              requests:
                cpu: 10m
              limits:
                memory: 350Mi
          - name: drbd-reactor
            resources:
              requests:
                cpu: 10m
              limits:
                memory: 100Mi
        initContainers:
          - name: drbd-shutdown-guard
            $patch: delete
          - name: drbd-module-loader
            $patch: delete
        volumes:
          - name: run-systemd-system
            $patch: delete
          - name: run-drbd-shutdown-guard
            $patch: delete
          - name: systemd-bus-socket
            $patch: delete
          - name: lib-modules
            $patch: delete
          - name: usr-src
            $patch: delete
          - name: etc-lvm-backup
            hostPath:
              path: /var/etc/lvm/backup
              type: DirectoryOrCreate
          - name: etc-lvm-archive
            hostPath:
              path: /var/etc/lvm/archive
              type: DirectoryOrCreate
  - name: storage
    nodeSelector:
      piraeus.io/storage: "true"
    storagePools:
      - name: lvm-thin
        lvmThinPool:
          volumeGroup: vg1
          thinPool: thin
        source:
          hostDevices:
            - /dev/sdb
